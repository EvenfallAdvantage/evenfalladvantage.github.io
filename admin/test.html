<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard Test</title>
</head>
<body>
    <h1>Testing Admin Dashboard Scripts</h1>
    <div id="output"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../student-portal/js/supabase-config.js"></script>
    <script>
        const output = document.getElementById('output');
        
        // Test 1: Check if Supabase loaded
        if (typeof supabase !== 'undefined') {
            output.innerHTML += '<p>✅ Supabase client loaded</p>';
        } else {
            output.innerHTML += '<p>❌ Supabase client NOT loaded</p>';
        }
        
        // Test 2: Try to query students
        async function testQuery() {
            try {
                const { data, error, count } = await supabase
                    .from('students')
                    .select('*', { count: 'exact', head: true });
                
                if (error) {
                    output.innerHTML += `<p>❌ Query error: ${error.message}</p>`;
                } else {
                    output.innerHTML += `<p>✅ Student count: ${count}</p>`;
                }
            } catch (err) {
                output.innerHTML += `<p>❌ Exception: ${err.message}</p>`;
            }
        }
        
        testQuery();
    </script>
</body>
</html>
